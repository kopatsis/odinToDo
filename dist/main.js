(()=>{const t=document.querySelector("#create"),e=document.querySelector(".formOuter");t.addEventListener("click",(function(){e.classList.add("open")})),document.querySelector(".close").addEventListener("click",(function(){n.classList.length>0?(n.reset(),e.classList.remove("open"),n.removeEventListener("submit",r),n.addEventListener("submit",c),n.setAttribute("class",""),l.setAttribute("class",""),l.classList.add("dispEdit")):e.classList.remove("open")})),window.addEventListener("keyup",(function(t){"Escape"==t.key&&e.classList.contains("open")&&(n.classList.length>0?(n.reset(),e.classList.remove("open"),n.removeEventListener("submit",r),n.addEventListener("submit",c),n.setAttribute("class",""),l.setAttribute("class",""),l.classList.add("dispEdit")):e.classList.remove("open")),"Escape"==t.key&&o.classList.contains("open")&&(o.classList.remove("open"),l.setAttribute("class",""),l.classList.add("dispEdit"))})),window.addEventListener("click",(function(t){t.target.classList.contains("formOuter")&&t.target.classList.contains("open")&&(n.classList.length>0?(n.reset(),e.classList.remove("open"),n.removeEventListener("submit",r),n.addEventListener("submit",c),n.setAttribute("class",""),l.setAttribute("class",""),l.classList.add("dispEdit")):e.classList.remove("open")),t.target.classList.contains("dispOuter")&&t.target.classList.contains("open")&&(o.classList.remove("open"),l.setAttribute("class",""),l.classList.add("dispEdit"))}));var s=0;const a=document.querySelector(".tdtask"),n=(document.querySelector("#tname"),document.querySelector("#creator"),document.querySelector("#description"),document.querySelector("#date"),document.querySelector("#createform"));function c(t){t.preventDefault();let c=new FormData(n);n.reset();let d=[];for(const t of c.entries())""==t[1]?d.push("N/A"):d.push(t[1]);const o=(l=d[0],r=d[1],m=d[2],p=d[3],{name:l,creator:r,description:m,date:p,status:"Incomplete"});var l,r,m,p;localStorage.setItem(s,JSON.stringify(o));const L=document.createElement("div");L.classList.add("todoDesc"),L.classList.add(s),L.textContent=" · "+o.name;const C=document.createElement("button");C.classList.add("todoDisp"),C.classList.add(s),C.textContent="≡ Details",C.onclick=i;const E=document.createElement("button");E.classList.add("todoComp"),E.classList.add(s),E.textContent="✓ Complete",E.onclick=u;const S=document.createElement("button");S.classList.add("todoDel"),S.classList.add(s),S.textContent="⌦ Delete",S.onclick=v;const g=document.createElement("div");g.classList.add("todoHouse"),g.classList.add(s),g.appendChild(L),g.appendChild(C),g.appendChild(E),g.appendChild(S),a.appendChild(g),e.classList.remove("open"),s++}n.addEventListener("submit",c);const d=document.querySelector(".dblInner"),o=document.querySelector(".dispOuter");document.querySelector(".dispClose").addEventListener("click",(()=>{o.classList.remove("open"),l.setAttribute("class",""),l.classList.add("dispEdit")}));const l=document.querySelector(".dispEdit");function i(t){o.classList.add("open");let e=JSON.parse(localStorage.getItem(parseInt(t.target.classList[1])));l.classList.add(parseInt(t.target.classList[1])),d.innerHTML=`\n    <div class="disp name">Task Name:</div>\n    <div class="display small">${e.name}</div>\n    <div class="disp creator">Task Creator:</div>\n    <div class="display small">${e.creator}</div>\n    <div class="disp desc">Description:</div>\n    <div class="display large">${e.description}</div>\n    <div class="disp date">Date Created:</div>\n    <div class="display small">${e.date}</div>\n    <div class="disp stat">Status:</div>\n    <div class="display small">${e.status}</div>\n    `}function r(t){let s=parseInt(t.target.classList[1]);o.classList.remove("open"),e.classList.add("open"),n.classList.add(s),n.removeEventListener("submit",c),n.addEventListener("submit",m);let a=JSON.parse(localStorage.getItem(s));document.querySelector("#tname").value=a.name,document.querySelector("#creator").value=a.creator,"N/A"!=a.description&&(document.querySelector("#describe").value=a.description),"N/A"!=a.date&&(document.querySelector("#date").value=a.date)}function m(t){t.preventDefault();let s=new FormData(n),a=[];for(const t of s.entries())""==t[1]?a.push("N/A"):a.push(t[1]);let d=parseInt(t.target.classList[0]),o=JSON.parse(localStorage.getItem(d));o.name=a[0],o.creator=a[1],o.description=a[2],o.date=a[3],localStorage.setItem(d,JSON.stringify(o)),document.getElementsByClassName(`todoDesc ${d}`)[0].textContent=" · "+o.name,n.reset(),e.classList.remove("open"),n.removeEventListener("submit",r),n.addEventListener("submit",c),n.setAttribute("class",""),l.setAttribute("class",""),l.classList.add("dispEdit")}l.addEventListener("click",r);const p=document.querySelector(".done");function u(t){let e=parseInt(t.target.classList[1]);t.target.parentElement.remove();let s=JSON.parse(localStorage.getItem(e));s.status="Complete",localStorage.setItem(e,JSON.stringify(s));const a=document.createElement("div");a.classList.add("todoDesc"),a.classList.add("compDesc"),a.classList.add(e),a.textContent=" · "+s.name;const n=document.createElement("button");n.classList.add("todoDisp"),n.classList.add(e),n.textContent="≡ Details",n.onclick=i;const c=document.createElement("button");c.classList.add("todoComp"),c.classList.add(e),c.textContent="✗ Incomplete",c.onclick=L;const d=document.createElement("button");d.classList.add("todoDel"),d.classList.add(e),d.textContent="⌦ Delete",d.onclick=v;const o=document.createElement("div");o.classList.add("todoHouse"),o.classList.add(e),o.appendChild(a),o.appendChild(n),o.appendChild(c),o.appendChild(d),p.appendChild(o)}function L(t){let e=parseInt(t.target.classList[1]);t.target.parentElement.remove();let s=JSON.parse(localStorage.getItem(e));s.status="Incomplete",localStorage.setItem(e,JSON.stringify(s));const n=document.createElement("div");n.classList.add("todoDesc"),n.classList.add(e),n.textContent=" · "+s.name;const c=document.createElement("button");c.classList.add("todoDisp"),c.classList.add(e),c.textContent="≡ Details",c.onclick=i;const d=document.createElement("button");d.classList.add("todoComp"),d.classList.add(e),d.textContent="✓ Complete",d.onclick=u;const o=document.createElement("button");o.classList.add("todoDel"),o.classList.add(e),o.textContent="⌦ Delete",o.onclick=v;const l=document.createElement("div");l.classList.add("todoHouse"),l.classList.add(e),l.appendChild(n),l.appendChild(c),l.appendChild(d),l.appendChild(o),a.appendChild(l)}function v(t){let e=parseInt(t.target.classList[1]);t.target.parentElement.remove(),localStorage.setItem(e,555)}function C(t,e){let s=JSON.parse(e);const n=document.createElement("div");n.classList.add("todoDesc"),n.classList.add(t),n.textContent=" · "+s.name;const c=document.createElement("button");c.classList.add("todoDisp"),c.classList.add(t),c.textContent="≡ Details",c.onclick=i;const d=document.createElement("button");d.classList.add("todoComp"),d.classList.add(t),d.textContent="✗ Incomplete";const o=document.createElement("button");o.classList.add("todoDel"),o.classList.add(t),o.textContent="⌦ Delete",o.onclick=v;const l=document.createElement("div");l.classList.add("todoHouse"),l.classList.add(t),l.appendChild(n),l.appendChild(c),l.appendChild(d),l.appendChild(o),"Incomplete"==s.status?(d.onclick=u,d.textContent="✓ Complete",a.appendChild(l)):(d.onclick=L,n.classList.add("compDesc"),d.textContent="✗ Incomplete",p.appendChild(l))}document.querySelector("#reset").addEventListener("click",(()=>{a.innerHTML="",p.innerHTML="",localStorage.clear()})),function(){if(555==localStorage.parametersetbyme)for(const[t,e]of Object.entries(localStorage))555!=e&&(s++,C(t,e));else localStorage.clear(),localStorage.parametersetbyme=555}()})();