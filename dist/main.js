(()=>{const e=document.querySelector("#create"),t=document.querySelector(".formOuter");e.addEventListener("click",(function(){t.classList.add("open")})),document.querySelector(".close").addEventListener("click",(()=>{t.classList.remove("open")})),window.addEventListener("keyup",(function(e){"Escape"==e.key&&t.classList.contains("open")&&t.classList.remove("open"),"Escape"==e.key&&d.classList.contains("open")&&d.classList.remove("open")})),window.addEventListener("click",(function(e){e.target.classList.contains("formOuter")&&e.target.classList.contains("open")&&t.classList.remove("open"),e.target.classList.contains("dispOuter")&&e.target.classList.contains("open")&&d.classList.remove("open")}));var s=0;const n=document.querySelector(".tdtask"),a=(document.querySelector("#tname"),document.querySelector("#creator"),document.querySelector("#description"),document.querySelector("#date"),document.querySelector("#createform"));function c(e){e.preventDefault();let c=new FormData(a);a.reset();let o=[];for(const e of c.entries())""==e[1]?o.push("N/A"):o.push(e[1]);const d=(l=o[0],r=o[1],m=o[2],u=o[3],{name:l,creator:r,description:m,date:u,status:"Incomplete"});var l,r,m,u;localStorage.setItem(s,JSON.stringify(d));const v=document.createElement("div");v.classList.add("todoDesc"),v.classList.add(s),v.textContent=" · "+d.name;const C=document.createElement("button");C.classList.add("todoDisp"),C.classList.add(s),C.textContent="≡ Details",C.onclick=i;const S=document.createElement("button");S.classList.add("todoComp"),S.classList.add(s),S.textContent="✓ Complete",S.onclick=p;const E=document.createElement("button");E.classList.add("todoDel"),E.classList.add(s),E.textContent="⌦ Delete",E.onclick=L;const g=document.createElement("div");g.classList.add("todoHouse"),g.classList.add(s),g.appendChild(v),g.appendChild(C),g.appendChild(S),g.appendChild(E),n.appendChild(g),t.classList.remove("open"),s++}a.addEventListener("submit",c);const o=document.querySelector(".dblInner"),d=document.querySelector(".dispOuter");document.querySelector(".dispClose").addEventListener("click",(()=>{d.classList.remove("open")}));const l=document.querySelector(".dispEdit");function i(e){d.classList.add("open");let t=JSON.parse(localStorage.getItem(parseInt(e.target.classList[1])));l.classList.add(parseInt(e.target.classList[1])),o.innerHTML=`\n    <div class="disp name">Task Name:</div>\n    <div class="display small">${t.name}</div>\n    <div class="disp creator">Task Creator:</div>\n    <div class="display small">${t.creator}</div>\n    <div class="disp desc">Description:</div>\n    <div class="display large">${t.description}</div>\n    <div class="disp date">Date Created:</div>\n    <div class="display small">${t.date}</div>\n    <div class="disp stat">Status:</div>\n    <div class="display small">${t.status}</div>\n    `}function r(e){}l.addEventListener("click",(function(e){let s=parseInt(e.target.classList[1]);d.classList.remove("open"),t.classList.add("open"),a.removeEventListener("submit",c),a.addEventListener("submit",r);let n=JSON.parse(localStorage.getItem(s));document.querySelector("#tname").value=n.name,document.querySelector("#creator").value=n.creator,"N/A"!=n.description&&(document.querySelector("#describe").value=n.description),"N/A"!=n.date&&(document.querySelector("#date").value=n.date)}));const m=document.querySelector(".done");function p(e){let t=parseInt(e.target.classList[1]);e.target.parentElement.remove();let s=JSON.parse(localStorage.getItem(t));s.status="Complete",localStorage.setItem(t,JSON.stringify(s));const n=document.createElement("div");n.classList.add("todoDesc"),n.classList.add("compDesc"),n.classList.add(t),n.textContent=" · "+s.name;const a=document.createElement("button");a.classList.add("todoDisp"),a.classList.add(t),a.textContent="≡ Details",a.onclick=i;const c=document.createElement("button");c.classList.add("todoComp"),c.classList.add(t),c.textContent="✗ Incomplete",c.onclick=u;const o=document.createElement("button");o.classList.add("todoDel"),o.classList.add(t),o.textContent="⌦ Delete",o.onclick=L;const d=document.createElement("div");d.classList.add("todoHouse"),d.classList.add(t),d.appendChild(n),d.appendChild(a),d.appendChild(c),d.appendChild(o),m.appendChild(d)}function u(e){let t=parseInt(e.target.classList[1]);e.target.parentElement.remove();let s=JSON.parse(localStorage.getItem(t));s.status="Incomplete",localStorage.setItem(t,JSON.stringify(s));const a=document.createElement("div");a.classList.add("todoDesc"),a.classList.add(t),a.textContent=" · "+s.name;const c=document.createElement("button");c.classList.add("todoDisp"),c.classList.add(t),c.textContent="≡ Details",c.onclick=i;const o=document.createElement("button");o.classList.add("todoComp"),o.classList.add(t),o.textContent="✓ Complete",o.onclick=p;const d=document.createElement("button");d.classList.add("todoDel"),d.classList.add(t),d.textContent="⌦ Delete",d.onclick=L;const l=document.createElement("div");l.classList.add("todoHouse"),l.classList.add(t),l.appendChild(a),l.appendChild(c),l.appendChild(o),l.appendChild(d),n.appendChild(l)}function L(e){let t=parseInt(e.target.classList[1]);e.target.parentElement.remove(),localStorage.setItem(t,555)}function v(e,t){let s=JSON.parse(t);const a=document.createElement("div");a.classList.add("todoDesc"),a.classList.add(e),a.textContent=" · "+s.name;const c=document.createElement("button");c.classList.add("todoDisp"),c.classList.add(e),c.textContent="≡ Details",c.onclick=i;const o=document.createElement("button");o.classList.add("todoComp"),o.classList.add(e),o.textContent="✗ Incomplete";const d=document.createElement("button");d.classList.add("todoDel"),d.classList.add(e),d.textContent="⌦ Delete",d.onclick=L;const l=document.createElement("div");l.classList.add("todoHouse"),l.classList.add(e),l.appendChild(a),l.appendChild(c),l.appendChild(o),l.appendChild(d),"Incomplete"==s.status?(o.onclick=p,o.textContent="✓ Complete",n.appendChild(l)):(o.onclick=u,a.classList.add("compDesc"),o.textContent="✗ Incomplete",m.appendChild(l))}document.querySelector("#reset").addEventListener("click",(()=>{n.innerHTML="",m.innerHTML="",localStorage.clear()})),function(){if(555==localStorage.parametersetbyme)for(const[e,t]of Object.entries(localStorage))555!=t&&(s++,v(e,t));else localStorage.clear(),localStorage.parametersetbyme=555}()})();